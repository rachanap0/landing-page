/* ========== Design Tokens ========== */
:root{
  /* brand */
  --brand: #2a7df6;
  --brand-rgb: 42,125,246;

  /* neutrals (dark) */
  --bg-0: #0b1220;   /* page background */
  --bg-1: #0e1729;   /* section background */
  --panel: #111a2e;  /* card background */
  --panel-2: #0f192c;
  --stroke: rgba(255,255,255,.08);

  /* text */
  --ink:  #e7ecf5;   /* main text */
  --ink-2:#b9c2d3;   /* secondary */
  --ink-3:#8a94a7;   /* muted */

  /* data texture */
  --dot: radial-gradient(circle at 1px 1px, rgba(255,255,255,.06) 1px, transparent 1px);
  --dot-size: 22px 22px;

  /* hero */
  --hero-image: url("../assets/img/masthead.jpg");
  --hero-dark: .60;

  /* layout */
  --nav-h: 64px; /* JS can update at runtime */
}

/* ========== Base ========== */
html{
  height: 100%;
  scroll-behavior: smooth;
  scroll-padding-top: var(--nav-h);
  scroll-snap-type: y mandatory; /* strong snap for section stops */
}
body{
  margin: 0;
  height: 100%;
  font-family: "Merriweather Sans", system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--ink);
  background:
    var(--dot),
    radial-gradient(1200px 800px at 20% -10%, #15243f 0%, transparent 60%),
    linear-gradient(180deg, #0b1220 0%, #0b1220 100%);
  background-size: var(--dot-size), auto, auto;
  background-color: var(--bg-0);
  line-height: 1.6;
}
h1,h2,h3,h4,h5{
  font-family: "Merriweather", Georgia, serif;
  letter-spacing: .2px;
  color: var(--ink);
}
p, .text-muted{ color: rgba(228,229,230,0.75)!important; }
a{ color: rgba(228,229,230,0.75)!important; }
a:hover{ color:#ffffff; }

/* Section rhythm */
.section-about,
.page-section{
  padding: 4.5rem 0;
  scroll-snap-align: start;
  scroll-snap-stop: always;
}
.divider{
  width: 64px; height: 3px; border:0;
  background: linear-gradient(90deg, rgba(var(--brand-rgb),.65), rgba(var(--brand-rgb),.15));
  border-radius: 999px; margin: .25rem auto 1.75rem;
}

/* ========== Navbar ========== */
#mainNav{ z-index:1100; background: rgba(2, 8, 23, .55); backdrop-filter: blur(6px); }
#mainNav .navbar-brand{ color:#fff; font-weight:700; }
#mainNav .navbar-nav{ list-style:none; margin:0; padding:0; }
#mainNav .nav-link{ color: rgba(255,255,255,.88); text-decoration: none; font-weight: 600; }
#mainNav .nav-link:hover, #mainNav .nav-link.active{ color:#fff; }
#mainNav .navbar-toggler{ border-color: rgba(255,255,255,.35); }
#mainNav .navbar-toggler-icon{
  background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255,255,255,.9)' stroke-width='2' stroke-linecap='round' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}
#mainNav .navbar-collapse.collapse:not(.show){ display:none; }
@media (min-width:992px){
  #mainNav .navbar-toggler{ display:none; }
  #mainNav .navbar-collapse{ display:flex !important; }
  #mainNav .navbar-nav{ flex-direction:row; gap:.5rem; }
}
@media (pointer:fine){
  body.scrolled #mainNav{ background: rgba(10,16,28,.65); backdrop-filter: blur(6px); }
}
@media (hover:none){
  #mainNav{ background: rgba(10,16,28,.75); backdrop-filter: blur(6px); }
}
.navbar-shrink{ background: rgba(10,16,28,.65) !important; backdrop-filter: blur(6px); }

/* ========== Hero / Masthead ========== */
.masthead{
  position: relative;
  min-height: 100svh;
  display: grid;
  place-items: center;
  text-align: center;
  scroll-snap-align: start;
  scroll-snap-stop: always;
  background:
    linear-gradient(to bottom, rgba(11,18,32,.55), rgba(11,18,32,.65)),
    var(--hero-image);
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  overflow: clip;
  z-index: 5;
}
@supports (height: 100dvh){ .masthead{ min-height: 100dvh; } }
.masthead::before{
  content: "";
  position: absolute; inset: 0;
  background: radial-gradient(
    ellipse at 50% 35%,
    rgba(8,14,22,calc(var(--hero-dark) - .18)) 0%,
    rgba(8,14,22,var(--hero-dark)) 55%,
    rgba(8,14,22,calc(var(--hero-dark) + .08)) 100%
  );
  pointer-events: none; z-index: 0;
}
.masthead .container{ position: relative; z-index: 1; }
.masthead h2{ color:#fff; text-shadow: 0 2px 18px rgba(0,0,0,.5); }
.hero-line{ max-width: 760px; margin: 0 auto 1.25rem; color: #e9eef8; opacity:.9; }
.masthead .btn{ box-shadow: 0 10px 22px rgba(0,0,0,.25); }

/* ========== Buttons ========== */
.btn-primary{ background: rgb(var(--brand-rgb)); border-color: rgb(var(--brand-rgb)); }
.btn-primary:hover{ background:#5597ff; border-color:#5597ff; }
.btn-outline-light{ color:#fff; border-color: rgba(255,255,255,.5); }
.btn-outline-light:hover{ background:#fff; color:#0b1220; }

/* ========== KPI / Stats Strip ========== */
.stats-strip{
  padding: 1.1rem 0;
  background-image:
    linear-gradient(rgba(255,255,255,.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,.05) 1px, transparent 1px);
  background-size: 42px 42px, 42px 42px;
  background-color: var(--bg-1);
  border-top: 1px solid var(--stroke);
  border-bottom: 1px solid var(--stroke);
}
.stats-strip.stats-docked{
  position: absolute;
  left: 0; right: 0; top: 0;
  z-index: 2; border-top: 0;
}
.stat{ margin:.3rem 0; }
.stat-number{
  font-family: "Merriweather", Georgia, serif;
  font-weight: 800; font-size: 2rem; line-height:1;
  letter-spacing:.5px; font-variant-numeric: tabular-nums;
  color:#e7ecf5;
}
.stat-label{ color: var(--ink-3); }

/* ========== About ========== */
#about{ background: transparent; }
.link-muted{
  color:var(--ink-3); text-decoration:none;
  border-bottom:1px solid rgba(255,255,255,.25);
  padding-bottom:2px;
}
.link-muted:hover{ color:#cfe2ff; border-color:#cfe2ff; }

/* About content */
.section-about{
  position: relative;
  padding-top: calc(var(--nav-h) + 56px);
  padding-bottom: 0;
  background: radial-gradient(1200px 600px at 50% -200px, rgba(77,130,255,0.08), transparent 60%);
}
.section-about .about-wrap{ max-width: 1100px; margin: 0 auto; padding: 0 20px; }
.section-about .title{
  font-size: clamp(28px, 3.2vw, 40px);
  letter-spacing: 0.02em;
  text-align: center; margin-bottom: 8px;
}
.section-about .title::after{
  content: ""; display: block; width: 64px; height: 3px;
  margin: 14px auto 0;
  background: linear-gradient(90deg, #4d82ff, #6aa2ff);
  border-radius: 999px; opacity: .9;
}
.section-about .lead{
  max-width: 900px; margin: 24px auto 0;
  font-size: clamp(16px, 1.35vw, 20px);
  line-height: 1.75; color: rgba(255,255,255,0.85);
  text-align: left;
}
.section-about .lead b, .section-about .lead strong{ color:#fff; }
.section-about .highlights{
  display:grid; grid-template-columns: repeat(3, minmax(0,1fr));
  gap:12px; max-width:900px; margin:14px auto 0;
}
.highlight{
  padding:10px 12px; border-radius:12px;
  background: rgba(255,255,255,0.03);
  border: 1px solid rgba(255,255,255,0.10);
  font-size:14px; line-height:1.45; color: rgba(255,255,255,0.86);
  text-align:center;
}
@media (max-width: 720px){ .section-about .highlights{ grid-template-columns: 1fr; } }
.section-about .actions{
  display:flex; gap:16px; justify-content:center; flex-wrap:wrap; margin-top:24px;
}
.btn-primary{
  padding:14px 22px; font-weight:700; border-radius:14px;
  background: linear-gradient(180deg, #4d82ff, #326cff);
  color:#fff; border:1px solid rgba(255,255,255,0.08);
  box-shadow: 0 6px 16px rgba(77,130,255,0.26);
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
}
.btn-primary:hover{ transform: translateY(-1px); box-shadow: 0 10px 22px rgba(77,130,255,0.32); }
.btn-ghost{
  padding:14px 22px; font-weight:600; border-radius:14px;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.16);
  color: rgba(255,255,255,0.9);
}
.btn-ghost:hover{ background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.28); }

/* ========== Card System (Projects, Experience, Foundations, Leadership) ========== */
.card-like{ background: var(--panel); border: 1px solid var(--stroke); border-radius: .9rem; box-shadow: 0 6px 22px rgba(0,0,0,.25); }

/* Foundations */
.foundation-card{ background: var(--panel); border: 1px solid var(--stroke); border-radius:.9rem; padding:1rem 1.25rem; }
.tool-list{ list-style:none; padding:0; margin:0; }
.tool-list li{ display:flex; flex-wrap:wrap; gap:.5rem .6rem; padding:.55rem 0; border-bottom:1px dashed rgba(255,255,255,.08); }
.tool-list li:last-child{ border-bottom:0; }
.tool{ font-weight:700; color:#fff; }
.desc{ color: var(--ink-3); }
.level-chip{ font-size:.75rem; padding:.15rem .5rem; border-radius:999px; border:1px solid; }
.level-chip.good{ color:#8ac1ff; border-color:#3569d8; background:rgba(53,105,216,.1); }
.level-chip.growing{ color:#b0bacd; border-color:#3e4556; background:rgba(62,69,86,.22); }

/* Mini cards */
.mini-card{ background: var(--panel); border: 1px solid var(--stroke); border-radius:.9rem; padding:.9rem 1rem; display:flex; flex-direction:column; }
.mini-tags span{ display:inline-block; font-size:.75rem; color:#9fb6d9; border:1px solid rgba(159,182,217,.35); padding:.15rem .5rem; border-radius:999px; margin-right:.35rem; }
.mini-link{ margin-top:auto; font-weight:700; text-decoration:none; }
.mini-link:hover{ text-decoration:underline; }

/* Projects */
.project-card{
  background: var(--panel); border:1px solid var(--stroke);
  border-left:4px solid rgb(var(--brand-rgb));
  border-radius:.9rem; padding:1rem 1.25rem;
  box-shadow:0 8px 26px rgba(0,0,0,.25);
  transition: transform .15s ease, box-shadow .15s ease;
}
.project-card:hover{ transform: translateY(-2px); box-shadow:0 16px 34px rgba(0,0,0,.32); }
.badge-case{ display:inline-block; font-size:.75rem; font-weight:700; padding:.2rem .55rem; border-radius:999px; color:#e7ecf5; background:#1a2744; border:1px solid var(--stroke); }
.project-spec{ padding-left: 1.1rem; }
.project-spec li{ margin-bottom:.35rem; }
.project-tags span{ display:inline-block; font-size:.8rem; padding:.25rem .55rem; margin:0 .35rem .35rem 0; border-radius:999px; color: #9ac1ff; background: rgba(154,193,255,.08); border:1px solid rgba(154,193,255,.25); }

/* Experience */
.exp-list{ display:grid; gap:1.1rem; }
.exp-card{ background: var(--panel); border:1px solid var(--stroke); border-left:4px solid rgb(var(--brand-rgb)); border-radius:.9rem; padding:1rem 1.25rem; }
.exp-card h5{ font-size:1.05rem; margin-bottom:0; }
.exp-dates{ white-space:nowrap; color:var(--ink-3); }
.exp-points li{ margin-bottom:.35rem; }
.role-chip{ display:inline-block; font-size:.85rem; padding:.2rem .55rem; border-radius:999px; color:#9ac1ff; background:rgba(154,193,255,.08); border:1px solid rgba(154,193,255,.25); margin-right:.35rem; }
.role-chip.soft{ color:#9aa6bf; background:rgba(154,166,191,.1); border-color:rgba(154,166,191,.25); }

/* Utilities */
.text-white-75{ color: rgba(255,255,255,.85) !important; }
hr{ border-color: var(--stroke); opacity:1; }

/* ========== Scroll Snap Panels & Reveal ========== */
.snap{
  scroll-snap-align: start;
  scroll-snap-stop: always;
  min-height: 100svh;
  display:flex; align-items:center;
  padding-block: clamp(64px, 10vh, 120px);
}
@supports (height: 100dvh){ .snap{ min-height: 100dvh; } }
.snap[data-reveal]{ opacity: 0; transform: translateY(18px); transition: opacity .6s ease, transform .6s ease; will-change: opacity, transform; }
.snap.is-visible{ opacity: 1; transform: translateY(0); }
@media (prefers-reduced-motion: reduce){
  html{ scroll-behavior: auto; }
  .snap{ min-height: auto; }
  .snap[data-reveal]{ opacity:1; transform:none; transition:none; }
}

/* =========================================================
   LEADERSHIP / INVOLVEMENT — FINAL, CONSOLIDATED STYLES
   ========================================================= */

/* Create a hard clipping boundary for everything inside Leadership.
   'contain: layout paint' isolates painting; 'overflow: clip' enforces
   clipping even for GPU‑promoted layers in modern browsers. */
#leadership{
  position: relative;
  z-index: 0;
  contain: layout paint;
  overflow: clip;                   /* <-- key fix: prevents bleed into next section */
  min-block-size: auto; max-block-size: none;
}
@supports not (overflow: clip){
  /* Fallback for browsers without overflow:clip */
  #leadership{ overflow: hidden; }
}
#leadership.page-section{ padding-block: clamp(48px, 7vh, 88px); }

/* Split layout: timeline (left) | gallery (right) — equal columns */
#leadership .lead-split{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.25rem;
  align-items: stretch;
}
@media (max-width: 992px){
  #leadership .lead-split{ grid-template-columns: 1fr; }
}

/* Timeline */
#leadership .lead-timeline{
  position: relative; list-style: none; margin: 0;
  padding: 0 0 0 1.6rem; background: transparent; border: 0; box-shadow: none;
}
#leadership .lead-timeline::before{
  content: ""; position: absolute; left: .58rem; top: 0; bottom: 0;
  width: 2px; background: rgba(255,255,255,.10);
}
#leadership .lead-step{ position: relative; margin: 0 0 .9rem 0; }
#leadership .lead-step:last-child{ margin-bottom: 0; }
#leadership .lead-dot{
  position: absolute; left: -1.05rem; top: 1.15rem;
  width: 10px; height: 10px; border-radius: 50%;
  background: rgb(var(--brand-rgb));
  box-shadow: 0 0 0 6px rgba(var(--brand-rgb), .18);
}
#leadership .lead-step-link{
  display: block; text-decoration: none; color: inherit;
  background: var(--panel); border: 1px solid var(--stroke);
  border-radius: .9rem; padding: .85rem 1rem;
  transition: border-color .12s ease, box-shadow .12s ease, background .12s ease;
}
#leadership .lead-step-link:hover{
  border-color: rgba(255,255,255,.14);
  box-shadow: 0 10px 22px rgba(0,0,0,.22);
  background: rgba(255,255,255,.02);
}
#leadership .lead-step-link.is-active{
  border-color: rgba(154,193,255,.35);
  box-shadow: 0 14px 30px rgba(0,0,0,.28);
  background: linear-gradient(180deg, rgba(154,193,255,.06), rgba(18,35,66,.18));
}
#leadership .lead-step-body{ display: block; }
#leadership .lead-role{ display:block; font-weight: 800; color:#fff; }
#leadership .lead-org{ display:block; margin-top:.25rem; color: var(--ink-2); }
#leadership .lead-meta{
  display:inline-block; margin-top:.4rem; padding:.15rem .55rem;
  border-radius:999px; border:1px solid rgba(255,255,255,.16);
  color: var(--ink-3); font-size:.9rem;
}

/* Gallery (right) */
#leadership .lead-gallery-wrap{
  display: flex; flex-direction: column; height: 100%;
  background: transparent;
  border: 1px solid var(--stroke);
  border-radius: .9rem;
  overflow: clip;                /* hard clip inside the card */
  padding: 0;
  isolation: isolate;            /* own stacking context */
  box-shadow: 0 8px 26px rgba(0,0,0,.25);
}
@supports not (overflow: clip){
  #leadership .lead-gallery-wrap{ overflow: hidden; }
}
#leadership .lead-gallery-header,
#leadership .lead-gallery-hint{ display:none !important; }

#leadership #lead-gallery{
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 0; width: 100%; height: 100%; min-height: 0;
}
#leadership #lead-gallery a{
  display: block; position: relative; border: 0; border-radius: 0;
  aspect-ratio: auto; overflow: hidden;
}
#leadership #lead-gallery img{
  display: block; width: 100%; height: 100%;
  object-fit: cover;
}

/* Ensure sections that follow stack above, even with GPU layers */
.page-section, .section-about{ position: relative; z-index: 1; }
#projects, #experience, #contact{ position: relative; z-index: 2; }

/* --- Leadership: keep gallery away from the section boundary --- */

/* More breathing room at the bottom of the section */
#leadership.page-section{
  padding-block: clamp(48px, 7vh, 88px) clamp(80px, 10vh, 128px);
}

/* Cap the gallery card height so it can't grow to the boundary */
#leadership .lead-gallery-wrap{
  max-height: clamp(360px, 58vh, 640px);
  box-shadow: 0 6px 18px rgba(0,0,0,.22); /* slightly softer so it doesn't 'cross' the color line */
}

/* Make the grid respect the cap */
#leadership #lead-gallery{ height: 100%; }
#leadership #lead-gallery a{ overflow: hidden; }
#leadership #lead-gallery img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* --- Leadership: clip the left timeline rail so it can't extend past the section --- */
#leadership .lead-timeline{
  position: relative;
  overflow: clip;        /* hard visual clip for the pseudo-element rail */
  contain: paint;        /* isolate painting to this box */
}
@supports not (overflow: clip){
  #leadership .lead-timeline{ overflow: hidden; } /* fallback */
}

/* make sure the rail itself doesn't create weird stacking */
#leadership .lead-timeline::before{
  pointer-events: none;
  z-index: 0;
}

/* optional: small bottom buffer so the rail never visually touches the section boundary */
#leadership .lead-timeline{ padding-bottom: 8px; }

/* --- Leadership: replace continuous rail with per-item segments --- */

/* Kill the full-height rail */
#leadership .lead-timeline::before{
  content: none !important;
}

/* Draw a segment under each dot, bounded by the card itself */
#leadership .lead-step{
  position: relative;
  overflow: visible; /* ensure the segment is contained by the card’s block */
}

/* segment from the dot downward to the next item gap */
#leadership .lead-step::after{
  content: "";
  position: absolute;
  left: -0.47rem;            /* aligns under the dot; adjust +/- 1–2px if needed */
  top: 1.15rem;              /* starts at the dot’s center */
  bottom: -0.85rem;          /* extends a bit into the gap to visually connect */
  width: 2px;
  background: rgba(255,255,255,.10);
  pointer-events: none;
  z-index: 0;
}

/* Do NOT draw a segment for the last item */
#leadership .lead-step:last-child::after{
  content: none;
}

/* Keep the dot above the segment */
#leadership .lead-dot{ z-index: 1; }

/* Keep the timeline column clipped/isolated just in case */
#leadership .lead-timeline{
  overflow: clip;
  contain: paint;
}
@supports not (overflow: clip){
  #leadership .lead-timeline{ overflow: hidden; }
}

/* --- Leadership: single-image mode (full-bleed) --- */

/* CSS-only detection: if the gallery has exactly one <a> child */
#leadership .lead-gallery-wrap:has(#lead-gallery > a:first-child:last-child) #lead-gallery{
  display: block;            /* cancel the grid */
  width: 100%;
  height: 100%;
}

#leadership .lead-gallery-wrap:has(#lead-gallery > a:first-child:last-child) #lead-gallery > a{
  display: block;
  width: 100%;
  height: 100%;
  border-radius: 0;
}
#leadership .lead-gallery-wrap:has(#lead-gallery > a:first-child:last-child) #lead-gallery img{
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;          /* full-bleed cover */
}

/* Fallback if you toggle a class via JS: <div id="lead-gallery" class="is-single"> */
#leadership #lead-gallery.is-single{
  display: block;
  width: 100%;
  height: 100%;
}
#leadership #lead-gallery.is-single > a{
  display: block;
  width: 100%;
  height: 100%;
  border-radius: 0;
}
#leadership #lead-gallery.is-single img{
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* -------- Projects: clean grid section -------- */

#projects{
  position: relative;
  z-index: 2;                /* sits above leadership; keeps stacking sane */
  overflow: clip;            /* no horizontal bleed from cards */
}
@supports not (overflow: clip){
  #projects{ overflow: hidden; }
}

/* Title pinned visually to the top of the section */
#projects .proj-head{
  position: relative;        /* not sticky, just top of flow */
  margin-bottom: 1.25rem;
  text-align: center;
}
#projects .title{
  margin: 0;                 /* ensure no unexpected push-down */
}

/* Responsive grid: tidy, no overflow; scales from 320px columns up */
.projects-grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.1rem;
  align-items: stretch;
}

/* Card polish specific to projects in a grid context */
#projects .project-card{
  display: flex;
  flex-direction: column;
  min-height: 0;             /* prevents flex overflow */
  padding: 1.1rem 1.2rem;
  border-left-width: 3px;    /* a hair lighter than other sections */
}
#projects .project-card header h5{
  font-size: 1.05rem;
  margin: 0;
}
#projects .project-card .project-spec{
  padding-left: 1.1rem;
  margin-bottom: .75rem;
}
#projects .project-card .project-tags{
  margin-top: auto;          /* tags & buttons sit toward bottom */
}
#projects .project-card .btn{
  border-radius: .6rem;
  padding: .35rem .7rem;
}

/* Subtle hover elevation; no translate that could bleed over section */
#projects .project-card:hover{
  box-shadow: 0 12px 28px rgba(0,0,0,.32);
}

/* Keep the section visually contained on ultrawide screens */
@media (min-width: 1400px){
  #projects .container{ max-width: 1200px; }
}

#leadership.page-section{
  padding-block: clamp(36px, 5vh, 64px) clamp(24px, 4vh, 48px) !important;
}


/* Vertically center the Projects section content */
#projects.page-section {
  display: flex;
  flex-direction: column;
  justify-content: center; /* center vertically */
  align-items: center;     /* center horizontally */
  min-height: 100svh;      /* take full viewport height */
  padding: 0;              /* remove large top/bottom padding */
  margin-top: 0;
  padding-top: 60px;
}

/* Keep title spacing neat */
#projects .proj-head {
  margin-bottom: 2rem; /* space between title and cards */
  text-align: center;
  margin-top: 0;
  padding-top: 0;
}

/* Keep cards in a nice grid */
#projects .projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 1.5rem;
  width: 100%;
  max-width: 1200px; /* limit width so it's not too wide */
}

/* --- Projects: start right under the navbar, no extra vertical gap --- */

/* Let Projects size to its content (not forced to full-screen) */
#projects.snap{
  min-height: auto !important;
}

/* Place the content directly below the fixed nav and keep a modest bottom pad */
#projects.page-section{
  padding-block: calc(var(--nav-h) + 8px) 56px !important;
  margin: 0 !important;
  display: block !important;         /* cancel previous flex-centering */
}

/* Tighten the header spacing */
#projects .proj-head{
  margin: 0 0 14px 0 !important;
  padding: 0 !important;
  text-align: center;
}
#projects .title{ margin: 0 !important; }

/* Grid stays the same (just ensuring no accidental extra height) */
#projects .projects-grid{
  min-height: 0;
}

/* --- Projects: own background + exact viewport height --- */

/* Paint the Projects section itself (don't let next section's color show through) */
#projects {
  position: relative;
  isolation: isolate;                             /* own stacking/paint context */
  background:
    var(--dot),                                   /* same texture as <body> */
    radial-gradient(1200px 800px at 20% -10%, #15243f 0%, transparent 60%),
    linear-gradient(180deg, #0b1220 0%, #0b1220 100%);
  background-size: var(--dot-size), auto, auto;
  background-color: var(--bg-0);
}

/* Cancel the global full-screen rule for .snap on this section */
#projects.snap { min-height: auto !important; }

/* Fill the visible viewport minus the fixed nav, and keep a safe bottom cushion */
#projects.page-section{
  min-block-size: calc(100dvh - var(--nav-h)) !important;  /* use dvh for reliable sizing */
  box-sizing: border-box;
  padding-block: calc(var(--nav-h) + 8px) 72px !important;  /* title under nav + bottom space */
  margin: 0 !important;
  overflow: hidden;                                        /* hide card shadows at the edge */
}

/* Tight header */
#projects .proj-head{ margin: 0 0 14px 0 !important; padding: 0 !important; text-align:center; }
#projects .title{ margin: 0 !important; }

/* Defensive: no accidental extra height from the grid */
#projects .projects-grid{ min-height: 0; }

/* Make sure the next section doesn't pull upward with margins */
#experience.page-section,
#contact.page-section { margin-top: 0 !important; }
